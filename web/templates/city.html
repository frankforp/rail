{% extends 'template.html' %}
{% block content %}
    {% for id in ids %}
        <select id="{{ id }}" class="form-control" title="{{ id }}"></select>
    {% endfor %}
{% endblock %}
{% block script %}
    <script>
        $("a:contains('城市')").addClass('active');
        var citys =;
        {{ citys|safe }}
        var a = '#' + {{ ids|safe }}[0];
        var b = '#' + {{ ids|safe }}[1];
        var c = '#' + {{ ids|safe }}[2];
        var d = '#' + {{ ids|safe }}[3];
        $(a).append($('<option>').text(''));
        $.each(citys, function (n, as) {
            $(a).append($('<option>').text(as[0]).val(n))
        });
        $(a).change(function () {
            $(b + ',' + c + ',' + d).empty();
            $(b + ',' + c + ',' + d).append($('<option>').text(''));
            $.each(citys[$(a).val()][1], function (n, bs) {
                $(b).append($('<option>').text(bs[0]).val(n))
            })
        });
        $(b).change(function () {
            $(c + ',' + d).empty();
            $(c + ',' + d).append($('<option>').text(''));
            $.each(citys[$(a).val()][1][$(b).val()][1], function (n, cs) {
                $(c).append($('<option>').text(cs[0]).val(n))
            })
        });
        $(c).change(function () {
            $(d).empty();
            $(d).append($('<option>').text(''));
            $.each(citys[$(a).val()][1][$(b).val()][1][$(c).val()][1], function (n, ds) {
                $(d).append($('<option>').text(ds).val(ds))
            })
        });
        $(a).change(function () {
            if ($(a).val() != '') {
                station = 1;
                console.log('{% url 'station' '0' %}')
            }
        })
    </script>
{% endblock %}